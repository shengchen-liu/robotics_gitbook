
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>ROS Clients and Subscribers Â· Robotics learning Notes</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Shengchen Liu">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-treeview/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-multipart/multipart.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Look_Away.html" />
    
    
    <link rel="prev" href="Arm_Mover_Build.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://shengchen-liu.github.io/" target="_blank" class="custom-link">Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="ros_essentials.html">
            
                <a href="ros_essentials.html">
            
                    
                    ROS Essentials
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="turtlesim.html">
            
                <a href="turtlesim.html">
            
                    
                    Turtle Sim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="packages.html">
            
                <a href="packages.html">
            
                    
                    Packages & Catkin Workspaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="write_ros_nodes.html">
            
                <a href="write_ros_nodes.html">
            
                    
                    Write ROS Nodes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="ros_publishers.html">
            
                <a href="ros_publishers.html">
            
                    
                    ROS Publishers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="node_simple_mover.html">
            
                <a href="node_simple_mover.html">
            
                    
                    Node - Simple Mover
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="ros_services.html">
            
                <a href="ros_services.html">
            
                    
                    ROS Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="arm_mover.html">
            
                <a href="arm_mover.html">
            
                    
                    Arm Mover
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="Arm_Mover_Build.html">
            
                <a href="Arm_Mover_Build.html">
            
                    
                    Arm Mover Build, Launch and Interact
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.3.6" data-path="ROS_Clients_and_Subscribers.html">
            
                <a href="ROS_Clients_and_Subscribers.html">
            
                    
                    ROS Clients and Subscribers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.7" data-path="Look_Away.html">
            
                <a href="Look_Away.html">
            
                    
                    Look Away
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.8" data-path="Look_Away_Build.html">
            
                <a href="Look_Away_Build.html">
            
                    
                    Look Away: Build, Launch and Interact
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.9" data-path="Pub-Sub_Class_Template.html">
            
                <a href="Pub-Sub_Class_Template.html">
            
                    
                    Pub-Sub Template
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../path_planning/path_planning.html">
            
                <a href="../path_planning/path_planning.html">
            
                    
                    Path Planning
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../path_planning/continuous_representation.html">
            
                <a href="../path_planning/continuous_representation.html">
            
                    
                    Continuous Representation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../path_planning/discrete planning.html">
            
                <a href="../path_planning/discrete planning.html">
            
                    
                    Discretization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../path_planning/roadmap.html">
            
                <a href="../path_planning/roadmap.html">
            
                    
                    Roadmap
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../path_planning/visibility_graph.html">
            
                <a href="../path_planning/visibility_graph.html">
            
                    
                    Visibility graph
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1.1" data-path="../path_planning/voronoi.html">
            
                <a href="../path_planning/voronoi.html">
            
                    
                    Voronoi Diagram
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../path_planning/cell_decomposition.html">
            
                <a href="../path_planning/cell_decomposition.html">
            
                    
                    Cell Decomposition
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.2.1" data-path="../path_planning/exact_cell_decomposition.html">
            
                <a href="../path_planning/exact_cell_decomposition.html">
            
                    
                    Exact Cell Decomposition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../path_planning/approximate_cell_decomposition.html">
            
                <a href="../path_planning/approximate_cell_decomposition.html">
            
                    
                    Approximate Cell Decomposition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../path_planning/potential_field.html">
            
                <a href="../path_planning/potential_field.html">
            
                    
                    Potential Field
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../path_planning/graph_search.html">
            
                <a href="../path_planning/graph_search.html">
            
                    
                    Graph Search
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../path_planning/a_star.html">
            
                <a href="../path_planning/a_star.html">
            
                    
                    A*
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >ROS Clients and Subscribers</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div class="treeview__container"><div class="treeview__container-title"><span class="treeview__main-title">Treeview</span><span class="treeview__copyright">Copyright &#xA9; aleen42 all right reserved, powered by <a href="https://github.com/aleen42" target="_blank">aleen42</a></span></div><ul>
<li><div><a href="#ros-clients-and-subscribers">ROS Clients and Subscribers</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#ros-clients">ROS Clients</a><i></i></div></li>
<li><div><a href="#ros-subscribers">ROS Subscribers</a><i></i></div></li>
</ul></li>
</ul>
</div>

<h2 id="ros-clients-and-subscribers">ROS Clients and Subscribers</h2>
<p>Writing the <code>arm_mover node</code>, you practiced generating custom messages, publishing to a topic, building ROS services servers, setting parameters, and creating launch files. You almost have a complete overview of ROS, but you still have to learn ROS <strong>clients</strong> to request services from client nodes, as well as ROS <strong>subscribers</strong>.</p>
<h3 id="ros-clients">ROS Clients</h3>
<p>A service client defined inside a service client node can request services from a service server node. In C++, ROS clients frequently have the following format, although other parameters and arguments are possible:</p>
<pre><code class="lang-C++">ros::ServiceClient client = n.serviceClient&lt;package_name::service_file_name&gt;(<span class="hljs-string">&quot;service_name&quot;</span>);
</code></pre>
<p>The <code>client</code> object is instantiated from the ros::ServiceClient class. This object allows you to request services by calling the <code>client.call()</code> function.</p>
<p>To communicate with the ROS Master in C++, you need a <strong>NodeHandle</strong>. The node handle <code>n</code> will initialize the node.</p>
<p>The <code>package_name::service_file_name</code> indicates the name of the service file located in the <code>srv</code> directory of the package.</p>
<p>The <code>service_name</code> argument indicates the name of the service which is defined in the service server node.</p>
<h3 id="ros-subscribers">ROS Subscribers</h3>
<p>A subscriber enables your node to read messages from a topic, allowing useful data to be streamed to the node. In C++, ROS subscribers frequently have the following format, although other parameters and arguments are possible:</p>
<pre><code class="lang-C++">ros::Subscriber sub1 = n.subscribe(<span class="hljs-string">&quot;/topic_name&quot;</span>, queue_size, callback_function);
</code></pre>
<p>The <code>sub1</code> object is a subscriber object instantiated from the ros::Subscriber class. This object allows you to subscribe to messages by calling the <code>subscribe()</code> function.</p>
<p>To communicate with the ROS Master in C++, you need a <strong>NodeHandle</strong>. The node handle <code>n</code> will initialize the node.</p>
<p>The <code>&quot;/topic_name&quot;</code> indicates the topic to which the Subscriber should listen.</p>
<p>The <code>queue_size</code> determines the number of messages that can be stored in a queue. If the number of messages published exceeds the size of the queue, the oldest messages are dropped. As an example, if the <code>queue_size</code> is set to 100 and the number of messages stored in the queue is equal to 100, we will have to start deleting old messages to make room in the queue for new messages. This means that we are unable to process messages fast enough and we probably need to increase the <code>queue_size</code>.</p>
<p>The <code>callback_function</code> is the name of the function that will be run each incoming message. Each time a message arrives, it is passed as an argument to <code>callback_function</code>. Typically, this function performs a useful action with the incoming data. Note that unlike service handler functions, the <code>callback_function</code> is not required to return anything.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Arm_Mover_Build.html" class="navigation navigation-prev " aria-label="Previous page: Arm Mover Build, Launch and Interact">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Look_Away.html" class="navigation navigation-next " aria-label="Next page: Look Away">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"ROS Clients and Subscribers","level":"1.2.3.6","depth":3,"next":{"title":"Look Away","level":"1.2.3.7","depth":3,"path":"ros/Look_Away.md","ref":"ros/Look_Away.md","articles":[]},"previous":{"title":"Arm Mover Build, Launch and Interact","level":"1.2.3.5","depth":3,"path":"ros/Arm_Mover_Build.md","ref":"ros/Arm_Mover_Build.md","articles":[]},"dir":"ltr"},"config":{"plugins":["mathjax","back-to-top-button","code","splitter","page-treeview","multipart"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"page-treeview":{"collapsed":false,"copyright":"Copyright Â© aleen42","minHeaderCount":"1","minHeaderDeep":"1"},"splitter":{},"search":{},"multipart":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"mathjax":{"forceSVG":false,"version":"2.6-latest"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Shengchen Liu","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Robotics learning Notes","links":{"sidebar":{"Home":"https://shengchen-liu.github.io/"}},"gitbook":"*","description":"A collection of learning notes of Robotics"},"file":{"path":"ros/ROS_Clients_and_Subscribers.md","mtime":"2021-01-03T01:00:50.325Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-01-03T01:02:17.916Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="https://cdn.mathjax.org/mathjax/2.6-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mathjax/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

